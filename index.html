<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible"
          content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>Spinning Ball Animation</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" > </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r126/three.min.js" integrity="sha512-n8IpKWzDnBOcBhRlHirMZOUvEq2bLRMuJGjuVqbzUJwtTsgwOgK5aS0c1JA647XWYfqvXve8k3PtZdzpipFjgg==" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
</head>
 
<body>
  <div id="wds">
    <div id="2ds"></div>
    <canvas class="empty"></canvas>
    <script>
      ds = document.getElementById('2ds');
      container = document.getElementById('wds');

      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(30, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 20;
      camera.position.y = 0;
  
        let widthd = window.innerWidth;
        let height = window.innerHeight;
        let aspectRatio = widthd / height;

      renderer = new THREE.WebGLRenderer({alpha: true, antialias: true});
      renderer.setClearColor(0x000000, 0);
      renderer.setSize(window.innerWidth, window.innerHeight);

      // function sizer() {
      //   renderer.setSize(window.innerWidth, window.innerHeight);
      // }
      // window.onresize=sizer;
      // camera.lookAt(scene.position);
      // function onWindowResize(){

// camera.aspect = window.innerWidth / window.innerHeight;
// camera.updateProjectionMatrix();

// renderer.setSize( window.innerWidth, window.innerHeight );

// }
// window.addEventListener('resize', function () {
//   renderer.setSize(window.innerWidth, window.innerHeight);
//   camera.aspect = window.innerWidth / window.innerHeight;
//   camera.updateProjectionMatrix();
// });
window.addEventListener('resize' , () => {
  width = window.innerWidth;
  height = window.innerHeight;

  camera.aspect = width / height;
  camera.updateProjectionMatrix()

  renderer.setSize(width, height);
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))
  renderer.render(scene, camera)
})
       
      renderer.domElement.setAttribute("id", "waka");
      const res = container;
      res.insertBefore(renderer.domElement, ds);
  
      const aLight = new THREE.AmbientLight(0x404040, 1.8);
      scene.add(aLight);
  
      const pLight = new THREE.PointLight(0xFFFFFF, 0.5);
      pLight.position.set(-3, 0.5, 5);
      scene.add(pLight);
      
      const pLight2 = new THREE.PointLight(0xFFFFFF, 1.3);
      pLight2.position.set(4, 4, -3);
      scene.add(pLight2)

      // const helper = new THREE.PointLightHelper(pLight);
      // scene.add(helper);

      // const helper2 = new THREE.PointLightHelper(pLight2);
      // scene.add(helper2);

      let loader = new THREE.GLTFLoader();
      let obj = null;
  
      loader.load('/3d/waka.gltf', function(gLtf) {
        obj = gLtf;
        obj.scene.scale.set(1.3, 1.3, 1.3);
  
        scene.add(obj.scene);
      });
      
  
      function animate() {
        requestAnimationFrame(animate);
        if(obj)
          obj.scene.rotation.y += 0.01;
        renderer.render(scene, camera);
      }
      
      animate()
    </script>
    <style>
      #waka {
        width: 100%;
      }
    </style>
  </div>
  <input id="ee" class="ee" type="image" src="images/burger.png" onclick="openMenu()" value="Click">
  <div id="mover" class="moverNotActive">
    <img src="images/i2.png" id="logoBrown" class="logoBrownNotActive">
    <img src="images/i.png" id="logoWhite" class="logoWhiteNotActive">
  </div>
  <input id="btn2" class="button2" type="image" src="images/i.png" onclick="closeMenu()" value="Click">
  <div id="menu" class="menu1">
    <!-- <ul id="menu">
        
    </ul> -->
  </div>
</body>
</html>